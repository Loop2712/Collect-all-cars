<input class="d-none" type="text" id="CountryCode" name="CountryCode" value="">

<div class="d-none" id="btn_tel"></div>

<!-- SOS ไทย -->
<div id="sos_TH" class="row d-none">
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">เหตุด่วนเหตุร้าย</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('police','191');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 191</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">จ.ส.100</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('js100','1137');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1137</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">หน่วยแพทย์กู้ชีวิต</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('life_saving','1669');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1669</a>
    </div>
    <div class="col-6 ">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">ป่อเต็กตึ๊ง</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('pok_tek_tung','1418');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1418</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">สายด่วนทางหลวง</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('highway','1193');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1193</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">ทนายอาสา</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('lawyers','1167');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1167</a>
    </div>
</div> 
<!-- จบ SOS ไทย -->

<!-- SOS ลาว -->
<div id="sos_LA" class="row d-none">
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">ตำรวจ</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('police','191');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 191</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">รถพยาบาล</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('ambulance','195');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 195</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">เพลิงไหม้</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('fire','190');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 190</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">ตำรวจท่องเที่ยว</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('tourist_police','192');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 192</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Electricity</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('electricity','1199');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1199</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Water</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('water','1169');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1169</a>
    </div>
</div> 
<!-- จบ SOS ลาว -->

<!-- SOS พม่า -->
<div id="sos_MM" class="row d-none">
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Police</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('police','199');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 199</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Ambulance</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('ambulance','192');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 192</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Fire</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('fire','191');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 191</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Highway police</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('highway_police','1880');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 1880</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Covid-19 call center</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('covid-19_call_center','2019');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 2019</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">International hotline</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('international_hotline','122');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 122</a>
    </div>
    <div class="col-6">
        <p style="font-size:15px; text-align: center; margin-top:10px; ">Emergency hotline</p>
        <a class="btn btn-danger btn-block shadow-box text-white" onclick="save_sos_content('emergency_hotline','999');" style="margin-top:-10px; background-color: #DB2D2E;"><i class="fas fa-phone-alt"></i> 999</a>
    </div>
</div> 
<!-- จบ SOS พม่า -->



<script>

    document.addEventListener('DOMContentLoaded', (event) => {
        // console.log("START");
        let user_id = document.querySelector('#user_id').value;

        fetch("{{ url('/') }}/api/check_sos_country/" + user_id)
            .then(response => response.json())
            .then(result => {
                // console.log(result);

                let countryCode = document.querySelector('#CountryCode');
                    countryCode.value = result['countryCode'];

                if (result['countryCode']) {

                    if (result['countryCode'] !== 'TH') {
                    document.querySelector('#btn_quick_help').classList.add('d-none');
                    }

                    document.querySelector('#sos_'+result['countryCode']).classList.remove('d-none');
                }

            });

    });

    function save_sos_content(type_content,phone_sos) {
        let text_phone = document.querySelector("#text_phone");
        let lat_text = document.querySelector("#lat");
        let lng_text = document.querySelector("#lng");

        let content = document.querySelector("#content");
            content.value = type_content ;


        let btn_tel = document.querySelector('#btn_tel');

        let tag_a = document.createElement("a");
            let tag_a_href = document.createAttribute("href");
            tag_a_href.value = 'tel:' + phone_sos;
            tag_a.setAttributeNode(tag_a_href);

            let tag_a_id = document.createAttribute("id");
            tag_a_id.value = 'btn_' + phone_sos;
            tag_a.setAttributeNode(tag_a_id);

            btn_tel.appendChild(tag_a);

        document.querySelector("#btn_" + phone_sos).click();
        document.querySelector("#btn_submit").click();


    }


</script>